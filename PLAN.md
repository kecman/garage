## Prioritized

- [Bug] What should happen to prevent unwanted clipping when panning with the mouse
- [Bug] Review parsing for floats. If this is broken then reading WKT files may be screwed!!
- [Rendering] Matcap rendering similar to polyscope
- [Rendering] Make polygon index rendering show the actual indices of the polygon (not the triangulation)
- [UI/UX] Make more reasonable UI for changing transparency (and have commands that can set it)

## Backlog

- [Bug] Load a polyline obj, overwrite it with a mesh obj and note that the color is not set correctly---look at color_from_path and loading code..
- [Bug] Fix the x64 build
- [Bug] Fix the labels appearing outside the clipping box
- [Bug] When loading a file that doesn't exist the text file handler reports unable to load file (good) but the obj loader also reports empty vertices (bad, to be fixed)
- [Bug] Fix erratic rotation when rotating about the selected axes
- [Bug] Fix obj loading for quad faces
- [Bug] Fix sweep dragging check boxes being affected through overlayed ui e.g., colour picker
- [README] Document goals/values in the README.md
- [UI/UX] Use folding trees in help menu, default to unfolded
- [UI/UX] Add a circling feature pre-screenshot
- [UI/UX] Add a hotloading mode to files (Hotloader module not implemented on linux)
- [UI/UX] Implement simple undo for file loading, would be handy to be able to undo file clobbering...
- [UI/UX] Load files in a separate thread and report loading progress in the mode line
- [UI/UX] Feedback when refreshing a file gives the same result
- [UI/UX] Define a plane and write the world coordinates of the intersection point by the mouse cursor. Use lmb click drag for measuring
- [UI/UX] Frame rate independent game loop?
- [UI/UX] :UserConfig Hotload user configurable parameters
- [UI/UX] When we press "Reset Orbit" we should re-place the camera planes
- [UI/UX] Sliders to select visible range of indices
- [UI/UX] Add a defaults.settings file containing options like default visualisation, scroll velocity, ui response dt's etc
- [UI/UX] Set point-size per-mesh so that point clouds are visible without a non-zero global point size
- [UI/UX] Add a defaults.keymap file containing bindings, also add files for blender, paraview and cloudnc settings
- [UI/UX] Hotload the keymap and settings files
- [UI/UX] Option to render the cumulative vertex number for polyline soups and polygon inner/outer rings or polygon soups
- [UI/UX] Scale zoom speed with scene bounding box when shift is held?
- [UI/UX] Implement a view cube using the Jai immediate mode graphics module ("Simp"). Call `SDL_GetWindowWMInfo` to get a https://wiki.libsdl.org/SDL_SysWMinfo from which you can get the `X11.Window` to pass to sim `SDL_GetWindowWMInfo(window, *wmInfo); io.ImeWindowHandle = wmInfo.info.win.window;`
- [UI/UX] Scale the axes according to the bbox of the scene?
- [UI/UX] Arrow keys pan across bounding box?
- [UI/UX] Write the fully pathed filename even for files loaded on the command line
- [UI/UX] Handle infinities in files well
- [UI/UX] Implement arcball constraints cf. http://graphicsinterface.org/wp-content/uploads/gi1992-18.pdf
- [UI/UX] Write * to indicate an identical first and last point
- [UI/UX] Sweep drag for removing items from the scene?
- [UI/UX] Click to copy point coordinate in {1.8e} format so that it can be used as a float literal in code
- [UI/UX] Implement sliding to show/hide the terminal
- [UI/UX] Scroll to the bottom of the terminal
- [UI/UX] Sounds for a more satifying UI?
- [UI/UX] Render the axes origin in different color when it's a model origin
- [UI/UX] Add a button to capture a screenshot, look at the Jai Clipboard module
- [UI/UX] Hover over UI element (button/checkbox) and press a key to bind that key to it, display the bound keys in a list somewhere
- [UI/UX] When hovering over items in the scene make the others/overlapping ones transparent
- [UI/UX] Implement an infinite grid, maybe http://asliceofrendering.com/scene%20helper/2020/01/05/InfiniteGrid/
- [UI/UX] Add some options for backface shading, including an obnoxiously visible one for finding holes in meshes
- [UI/UX] Fix issue where holding Ctrl to use the focussed zoom means if we right click to rotate we'll move the focus
- [UI/UX] Don't close the item context menu unless we LMB into viewport
- [UI/UX] Make long lists of items managable in the context menu
- [UI/UX] Reload files only if they change, and adjust the fade color if the geometry is unchanged
- [UI/UX] Mode line (bar along bottom) showing hovered mesh stats
- [UI/UX] Clipping. Make normals clip
- [UI/UX] Clipping. Add clip volume visualisation
- [UI/UX] Clipping. Add option to render clipped geometry with non-zero opacity
- [UI/UX] Clipping. Revisit UX:
  - Pick some distance computation e.g., distance from a plane, or distance from a point (euclidean distance == spherical clipping, manhattan distance == cube clipping)
  - Define the primitive for distance computation e.g., imgui drag float widgets for coeffs in a plane/coordinates of a point, or set via selecting something in the scene.
  - Pick some clipping criterion e.g., dist > value, or min < dist < max
  - Ex1: Sphere/Cube clipping using a sphere/cube around a selected point might be handy to look at something inside a hole
  - Ex2: Plane clipping using a plane though three selected points would be handy to look at infill paths
- [Rendering] Render text over everything else
- [Rendering] Render aabbs when the box extents are hovered in the UI
- [Rendering] Add option to render normals using only one component
- [Rendering] Think about how normal rendering should interact with opacity, do we want to see normals through the part?
- [Rendering] Do a better job transparency
- [Rendering] Do something with depth rendering? out_color = vec4(vec3(gl_FragCoord.z), 1.);
- [Rendering] Render by index, or adjust colour by index, or make a ripple by point index
- [Rendering] Add an option not to render backfacing triangles of transparent items
- [Rendering] Speed up text rendering, it's so slow right now!
- [Rendering] Render vertex labels on top of other geometry always
- [Rendering] Add option to render element labels
- [Rendering] Mesh element number/segment number rendering
- [Rendering] Alternate segment colours (two draw calls?)
- [Rendering] Show grid lines
- [Rendering] Distribute shaders with source for hot loading/editing them. Pass them lots of unused data then
- [Camera] Improve camera panning, so there's no 'slipping'
- [Camera] Implement perspective projection
- [Camera] First person camera with strafing and jump/crouch
- [Camera] Add orbit placement
- [Camera] Make a function to spiral on the bounding sphere and have it activated via a console command
- [Camera] Undo/redo system for camera and other operations
- [Camera] Camera position history/bookmarks with notes/annotations
- [Commands] save_session <filename>, load_session <session> to write session state (loaded items, state changes, clipping plane locations etc etc)
- [Commands] Add a syntax for specifying what command to run when the app starts
- [Commands] Command to select/sort items by type, geometric extent, size, number of points/faces, filename etc
- [Commands] Command to group items by matching wildcard, maybe groups are numbered/lettered so #f.42 is item 42 in group f?
- [Commands] Command to compute parameterisation?
- [Commands] Command to compute an animation?
- [Commands] Command to simplify, and show ui with parameters for the simplification
- [Commands] save_obj <filename> <optional-element-index-list>
- [Commands] Autogenerate ui code for bingings
- [Commands] Implement geometric equals functions for testing, can be used to compare Jai/C++ implementations
- [Commands] load_obj <filename> to load files (loading files by drag and drop should effectively run this command)
- [Commands] Implement commands to change the render settings on stuff
- [Commands] save_wkt <filename>, load_wkt <filename> to load files (loading files by drag and drop should effectively run this command)
- [Commands] make_float/make_xform/make_mesh
- [Commands] xform <id> <transform>
- [Commands] edit <id> to popup inspection ui
- [Commands] assign x # assigns x to the previous result?
- [Commands] undo/redo
- [IO] Natively support heightmaps, have native, simple and fast loading file formats
- [IO] Support .ply file formats
- [IO] Support .off file formats
- [IO] Support TetGen file formats
- [Testing] Add tests for obj loading
- [Testing] Use @test to tag/run tests in a metaprogram
- [Cleanup] Do an audit/cleanup of the code to make it more hackable by other people
- [Cleanup] Use context loggers to cleanup direct errors/warning/information messages to the console rather than the terminal
- [Cleanup] Remove geometry module, just load files
- [Cleanup] memory management for things returned by boost polygon module, should copy them on jai side and add a function to the bindings which free the mesh :Cleanup_Construction_Destruction:
- [Cleanup] Make the polygon/polyline types use slices, not dynamic arrays, put allocators in the top level
- [Cleanup] Use a union to store entities directly in an array, rather than storing pointers to entities
- [Bindings] Improve API, these accept pointers because the c++ functions take const-ref args
- [Bindings] Can these declarations have notes? Check Preload.jai?
- [Bindings] Write a function to print in wkt format? simpler custom format?
- [Bindings] Add libIGL bindings?
- [Build] Compiled at time in Window, after version?
- [Build] Bake fonts into the executable
- [Meta-programming] Generate a list of used ImGui functions to simplify transitioning to a newer version
- [Robustness] Just log warnings and ignore the context allocator if it's not malloc, or create a new polygon allocated with malloc if passing to c
- [XXL] Buttons with icons which animate when you hover them
- [XXL] Build and add bindings for gmp
- [XXL] Hotload the C++ bindings, and console commands, so you can keep same UI state while you iterate on your code
- [XXL] Hotload jai code so that you can keep state while you change your algorithm
- [XXL] Place a window (circle/square) with a local camera in it that can be oriented to look around the scene
- [XXL] Suggested values when transforming an item
- [XXL] Think about how to do literate programming in Jai, use this to generate the user documentation. Maybe with notes attached to procedures or decalarations? It would be cool to generate context specific help windows using this information in comments/notes somehow, maybe a local variable matching some pattern get processed by a meta program?
- [XXL] Think about a plugin system where you write bindings for c++ libraries and benefit from Jai introspection e.g., bind to C++ datastructures/algorithms, and auto generate UI for Jai versions of those for fast experimentation/UI generation
